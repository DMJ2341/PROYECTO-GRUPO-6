{
  "id": "c5_l2",
  "title": "Forense Digital",
  "description": "Caso Real: Sony Pictures 2014 - Guardians of Peace",
  "type": "interactive",
  "duration_minutes": 30,
  "xp_reward": 75,
  "order_index": 2,
  "course_id": 5,
  "total_screens": 23,
  "theme": {
    "primary_color": "#8E24AA",
    "secondary_color": "#E53935",
    "accent_color": "#00ACC1",
    "gradient": ["#1c0023", "#33003d", "#4d0057"]
  },
  "screens": [
    {
      "screen_id": 1,
      "type": "story_intro",
      "title": "Operación: #GOP",
      "content": {
        "headline": "24 NOVIEMBRE 2014",
        "subheadline": "Wiper malware destruye 75% de los servidores de Sony Pictures",
        "stats": [
          {"value": "3,000+", "label": "PCs destruidos"},
          {"value": "75%", "label": "Servidores wipeados"},
          {"value": "100TB+", "label": "Datos filtrados"},
          {"value": "$100M+", "label": "Costos totales"}
        ],
        "cta_text": "Iniciar Análisis Forense"
      }
    },
    {
      "screen_id": 2,
      "type": "story_slide",
      "title": "El Día del Juicio",
      "content": {
        "icon": "mood_bad",
        "icon_color": "#E53935",
        "headline": "Pantalla roja con calavera y mensaje: 'Hacked by #GOP'",
        "body": "Empleados llegan a la oficina y sus PCs muestran una calavera roja. Todos los datos borrados. Emails, películas inéditas, guiones, salarios, SSNs de actores... todo filtrado en torrents días después. Atribuido a Corea del Norte por la película 'The Interview'.",
        "highlight_box": {
          "type": "danger",
          "text": "Primer wiper attack a gran escala en occidente. Objetivo: destrucción + humillación pública."
        }
      }
    },
    {
      "screen_id": 3,
      "type": "crisis_timeline",
      "title": "⏱️ CRONOLOGÍA DESTRUCCIÓN",
      "content": {
        "events": [
          {
            "time": "21 Nov 2014",
            "icon": "phishing",
            "title": "Spear-phishing inicial",
            "description": "Emails falsos de Apple ID a empleados IT. Malware Destover implantado.",
            "severity": "warning"
          },
          {
            "time": "24 Nov 08:00",
            "icon": "skull",
            "title": "Wiper detonado",
            "description": "3,000+ PCs y 75% servidores borrados. MBR sobrescrito. Sistemas unbootable.",
            "severity": "critical"
          },
          {
            "time": "24 Nov → Dic",
            "icon": "cloud_upload",
            "title": "Mega-leak",
            "description": "100TB filtrados: películas, emails, salarios, SSNs, pasaportes de actores.",
            "severity": "critical"
          },
          {
            "time": "Dic 2014",
            "icon": "report",
            "title": "FBI atribuye a Norcorea",
            "description": "Lazarus Group (APT38). Herramientas y TTPs coinciden con ataques previos.",
            "severity": "critical"
          }
        ]
      }
    },
    {
      "screen_id": 4,
      "type": "flip_card_full",
      "title": "Digital Forensics: Definición",
      "content": {
        "card": {
          "front": {"icon": "fingerprint", "term": "FORENSICS", "color": "#8E24AA"},
          "back": {
            "definition": "Ciencia de recolectar, preservar, analizar y presentar evidencia digital de forma legalmente admisible.",
            "principios": [
              "No modificar evidencia original",
              "Cadena de custodia documentada",
              "Imágenes bit-a-bit (hash verificable)",
              "Write-blockers obligatorios"
            ],
            "color": "#6A1B9A"
          }
        }
      }
    },
    {
      "screen_id": 5,
      "type": "flip_card_full",
      "title": "Orden de Volatilidad (RFC3227)",
      "content": {
        "card": {
          "front": {"icon": "speed", "term": "ORDER OF VOLATILITY", "color": "#00ACC1"},
          "back": {
            "order": [
              "1. Registros en CPU / caché",
              "2. RAM (memoria volátil)",
              "3. Procesos en ejecución",
              "4. Conexiones de red",
              "5. Disco (swap, archivos temporales)",
              "6. Disco persistente",
              "7. Backups offline"
            ],
            "sony_application": "Capturar memoria RAM antes de apagar sistemas era crítico para recuperar el wiper y claves.",
            "color": "#00838F"
          }
        }
      }
    },
    {
      "screen_id": 6,
      "type": "flip_card_full",
      "title": "Wiper Malware: Destover",
      "content": {
        "card": {
          "front": {"icon": "delete_forever", "term": "DESTOVER", "color": "#E53935"},
          "back": {
            "capabilities": [
              "Sobrescribe MBR con ceros",
              "Borra archivos aleatoriamente",
              "Sobrescribe datos con junk",
              "Elimina shadow copies",
              "Apaga el sistema"
            ],
            "sony_impact": "75% de servidores quedaron irrecuperables. Muchos sin backups recientes.",
            "color": "#C62828"
          }
        }
      }
    },
    {
      "screen_id": 7,
      "type": "flip_card_full",
      "title": "Live Response vs Dead Box",
      "content": {
        "card": {
          "front": {"icon": "power_settings_new", "term": "LIVE vs DEAD", "color": "#388E3C"},
          "back": {
            "live": "Capturar memoria, procesos, conexiones con sistema encendido (Volatility, Rekall)",
            "dead": "Apagar → imagen bit-a-bit del disco (FTK Imager, dd)",
            "sony_case": "Live response crítica para capturar Destover en RAM antes del wipe final.",
            "color": "#2E7D32"
          }
        }
      }
    },
    {
      "screen_id": 8,
      "type": "flip_card_full",
      "title": "Herramientas Forenses",
      "content": {
        "card": {
          "front": {"icon": "construction", "term": "TOOLKIT", "color": "#1976D2"},
          "back": {
            "memory": "Volatility, Rekall, WinPMEM",
            "disk": "FTK Imager, EnCase, Autopsy, X-Ways",
            "network": "Wireshark, NetworkMiner",
            "windows": "Autoruns, Prefetch, Shimcache, Amcache",
            "sony_used": "Mandiant, FBI y CrowdStrike usaron Volatility para recuperar Destover de memoria.",
            "color": "#1565C0"
          }
        }
      }
    },
    {
      "screen_id": 9,
      "type": "drag_drop_match",
      "title": "Artefacto → Ubicación",
      "content": {
        "instruction": "Relaciona el artefacto forense con su ubicación típica",
        "scenarios": [
          {"id": 1, "text": "Procesos en ejecución", "correct_target": "ram"},
          {"id": 2, "text": "Archivos eliminados", "correct_target": "disk"},
          {"id": 3, "text": "Historial USB", "correct_target": "registry"},
          {"id": 4, "text": "Malware en memoria", "correct_target": "ram"},
          {"id": 5, "text": "Prefetch / Shimcache", "correct_target": "disk"}
        ],
        "targets": [
          {"id": "ram", "label": "Memoria Volátil", "color": "#00ACC1"},
          {"id": "disk", "label": "Disco Persistente", "color": "#388E3C"},
          {"id": "registry", "label": "Windows Registry", "color": "#1976D2"}
        ],
        "xp_per_correct": 8
      }
    },
    {
      "screen_id": 10,
      "type": "swipe_cards",
      "title": "Forensics Best Practice?",
      "content": {
        "instruction": "¿Es correcta esta práctica forense?",
        "cards": [
          {"id": 1, "scenario": "Apagar el sistema inmediatamente", "correct_answer": "left"},
          {"id": 2, "scenario": "Capturar memoria RAM primero", "correct_answer": "right"},
          {"id": 3, "scenario": "Usar write-blocker para imaging", "correct_answer": "right"},
          {"id": 4, "scenario": "Analizar el disco original", "correct_answer": "left"},
          {"id": 5, "scenario": "Documentar cadena de custodia", "correct_answer": "right"}
        ],
        "labels": {"left": "MAL", "right": "CORRECTO"},
        "xp_per_correct": 10
      }
    },
    {
      "screen_id": 11,
      "type": "log_hunter",
      "title": "Memory Forensics: Encuentra Destover",
      "content": {
        "scenario": "Dump de memoria de un equipo Sony. Identifica procesos maliciosos",
        "log_lines": [
          {"id": 1, "text": "explorer.exe     PID: 1234", "is_suspicious": false},
          {"id": 2, "text": "svchost.exe      PID: 856", "is_suspicious": false},
          {"id": 3, "text": "wipe_exec.exe    PID: 4096  Path: C:\\Windows\\Temp\\", "is_suspicious": true},
          {"id": 4, "text": "lsass.exe        PID: 678", "is_suspicious": false},
          {"id": 5, "text": "gop_helper.dll   Injected in explorer.exe", "is_suspicious": true},
          {"id": 6, "text": "notepad.exe      PID: 3456", "is_suspicious": false}
        ],
        "xp_reward": 35
      }
    },
    {
      "screen_id": 12,
      "type": "timed_quiz",
      "title": "Sony Root Cause",
      "content": {
        "timer_seconds": 30,
        "question": "¿Qué permitió la destrucción masiva en Sony Pictures?",
        "options": [
          {"id": "a", "text": "Falta de backups offline", "is_correct": false},
          {"id": "b", "text": "Wiper malware con privilegios de admin + falta de live response", "is_correct": true},
          {"id": "c", "text": "Empleados abrieron el wiper manualmente", "is_correct": false}
        ],
        "explanation": "El wiper se ejecutó con privilegios altos y la respuesta fue 'apagar todo' sin capturar memoria. Backups existían pero muchos fueron destruidos también.",
        "xp_reward": 25
      }
    },
    {
      "screen_id": 13,
      "type": "achievement_unlock",
      "title": "Logro Desbloqueado",
      "content": {
        "achievement": {
          "icon": "fingerprint",
          "name": "Digital Forensics Expert",
          "description": "Dominas live response, orden de volatilidad y análisis de wipers",
          "rarity": "rare",
          "color": "#8E24AA"
        }
      }
    },
    {
      "screen_id": 14,
      "type": "lesson_complete",
      "title": "Lección Completada",
      "content": {
        "xp_earned": 75,
        "key_takeaways": [
          "Sony 2014: Primer gran ataque wiper occidental (Destover)",
          "Orden de volatilidad: RAM antes que disco",
          "Live response crítica en wipers (capturar memoria)",
          "Write-blockers y cadena de custodia obligatorios",
          "Herramientas: Volatility, FTK, Autopsy"
        ],
        "next_lesson": {
          "id": "c5_l3",
          "title": "Malware Analysis",
          "preview": "Caso WannaCry 2017 - El ransomware que paralizó el mundo"
        }
      }
    }
  ]
}