{
  "id": "c3_l1",
  "title": "Introducci√≥n a la Criptograf√≠a",
  "description": "Caso Real: SolarWinds Supply Chain (2020)",
  "type": "interactive",
  "duration_minutes": 22,
  "xp_reward": 65,
  "order_index": 1,
  "course_id": 3,
  "total_screens": 19,
  "theme": {
    "primary_color": "#00E5FF",
    "secondary_color": "#FF1744",
    "accent_color": "#00E676",
    "gradient": ["#0f0c29", "#302b63", "#24243e"]
  },
  "screens": [
    {
      "screen_id": 1,
      "type": "story_intro",
      "title": "Operaci√≥n: SolarWinds",
      "content": {
        "headline": "MARZO 2020",
        "subheadline": "El ataque de supply chain m√°s sofisticado de la historia",
        "background_image": "solarwinds_dark",
        "stats": [
          {"value": "18K+", "label": "Organizaciones comprometidas"},
          {"value": "9", "label": "Meses sin detectar"},
          {"value": "SUNBURST", "label": "Backdoor legendario"}
        ],
        "cta_text": "Entrar en la Red"
      }
    },
    {
      "screen_id": 2,
      "type": "story_slide",
      "title": "El Golpe Perfecto",
      "content": {
        "icon": "security",
        "icon_color": "#00E5FF",
        "headline": "APT29 (Cozy Bear) - Rusia",
        "body": "Los atacantes no rompieron la puerta. Entraron con llave leg√≠tima. Comprometieron el sistema de compilaci√≥n de SolarWinds e inyectaron el backdoor SUNBURST en una actualizaci√≥n oficial firmada digitalmente.",
        "highlight_box": {
          "type": "danger",
          "text": "Las v√≠ctimas instalaron el malware voluntariamente... porque ven√≠a firmado por SolarWinds."
        },
        "mood": "tension"
      }
    },
    {
      "screen_id": 3,
      "type": "crisis_timeline",
      "title": "‚è±Ô∏è 9 MESES DE SILENCIO",
      "content": {
        "events": [
          {
            "time": "Mar 2020",
            "icon": "code",
            "title": "Inyecci√≥n del Backdoor",
            "description": "SUNBURST inyectado en DLL firmada. Update distribuido a 18K+ clientes.",
            "severity": "critical"
          },
          {
            "time": "Mar-Dic",
            "icon": "visibility_off",
            "title": "Dormancia Perfecta",
            "description": "Backdoor inactivo 2 semanas. C2 v√≠a dominios leg√≠timos (avsvmcloud.com).",
            "severity": "critical"
          },
          {
            "time": "Dic 2020",
            "icon": "warning",
            "title": "FireEye Descubre",
            "description": "FireEye detecta breach propio. SUNBURST encontrado. Mundo se entera.",
            "severity": "critical"
          },
          {
            "time": "Dic 2020",
            "icon": "public",
            "title": "Revelaci√≥n Global",
            "description": "Microsoft, Tesoro US, NSA, Pentagon... todos comprometidos. 9 meses de acceso.",
            "severity": "critical"
          }
        ]
      }
    },
    {
      "screen_id": 4,
      "type": "crisis_decision",
      "title": "üö® ¬øQu√© Hicieron Mal?",
      "content": {
        "scenario": "Eres CISO de SolarWinds en 2019. Tu equipo de build propone: 'Para agilizar releases, firmemos todo con la misma clave privada en todos los servidores'. ¬øQu√© decides?",
        "timer_seconds": 30,
        "options": [
          {
            "id": "single_key",
            "text": "Usar una sola clave privada para todo",
            "icon": "key_off",
            "is_correct": false,
            "consequence": {
              "title": "Esto fue SolarWinds",
              "description": "Una clave comprometida = TODAS las actualizaciones firmadas maliciosas. Backdoor distribuido globalmente.",
              "impact_score": -100
            }
          },
          {
            "id": "hsm",
            "text": "HSM + claves por entorno + rotaci√≥n",
            "icon": "enhanced_encryption",
            "is_correct": true,
            "consequence": {
              "title": "Best Practice",
              "description": "Claves separadas por entorno. HSM (Hardware Security Module). Rotaci√≥n regular. Compromiso limitado.",
              "impact_score": 100,
              "xp_bonus": 30
            }
          }
        ]
      }
    },
    {
      "screen_id": 5,
      "type": "flip_card_full",
      "title": "Criptograf√≠a: Confidencialidad",
      "content": {
        "card": {
          "front": {
            "icon": "visibility_off",
            "term": "CONFIDENCIALIDAD",
            "subtitle": "Nadie lee lo que no debe",
            "color": "#00E5FF"
          },
          "back": {
            "definition": "Garantizar que la informaci√≥n solo sea accesible por partes autorizadas.",
            "solarwinds": "SUNBURST estaba cifrado y firmado. Parec√≠a leg√≠timo. Pero una vez ejecutado... todo era visible.",
            "key_lesson": "Cifrado protege datos en reposo y tr√°nsito. Pero si el c√≥digo malicioso se ejecuta... game over.",
            "color": "#00B0FF"
          }
        }
      }
    },
    {
      "screen_id": 6,
      "type": "flip_card_full",
      "title": "Criptograf√≠a: Integridad",
      "content": {
        "card": {
          "front": {
            "icon": "verified",
            "term": "INTEGRIDAD",
            "subtitle": "Nada ha sido alterado",
            "color": "#00E676"
          },
          "back": {
            "definition": "Garantizar que la informaci√≥n no ha sido modificada sin autorizaci√≥n.",
            "solarwinds": "La DLL maliciosa estaba firmada con certificado v√°lido de SolarWinds. Integridad t√©cnica perfecta... pero sem√°ntica violada.",
            "key_lesson": "Firma digital verifica origen + integridad. Pero si el origen est√° comprometido... firma ayuda al atacante.",
            "color": "#00C853"
          }
        }
      }
    },
    {
      "screen_id": 7,
      "type": "flip_card_full",
      "title": "Criptograf√≠a: Autenticidad",
      "content": {
        "card": {
          "front": {
            "icon": "how_to_reg",
            "term": "AUTENTICIDAD",
            "subtitle": "Es quien dice ser",
            "color": "#FF1744"
          },
          "back": {
            "definition": "Verificar la identidad del origen de la informaci√≥n.",
            "solarwinds": "La actualizaci√≥n ven√≠a firmada con certificado v√°lido. Los sistemas la aceptaron como aut√©ntica.",
            "key_lesson": "Autenticidad sin verificaci√≥n de confianza es in√∫til. El certificado era v√°lido... pero robado.",
            "color": "#D50000"
          }
        }
      }
    },
    {
      "screen_id": 8,
      "type": "drag_drop_match",
      "title": "SolarWinds: ¬øQu√© Fall√≥?",
      "content": {
        "instruction": "Arrastra cada ataque a la propiedad criptogr√°fica violada",
        "scenarios": [
          {"id": 1, "text": "DLL maliciosa firmada con certificado v√°lido", "correct_target": "autenticidad"},
          {"id": 2, "text": "Backdoor ejecutado en memoria (no detectado)", "correct_target": "integridad"},
          {"id": 3, "text": "Datos robados enviados cifrados a C2", "correct_target": "confidencialidad"},
          {"id": 4, "text": "Certificado privado comprometido", "correct_target": "autenticidad"}
        ],
        "targets": [
          {"id": "confidencialidad", "label": "Confidencialidad", "color": "#00E5FF"},
          {"id": "integridad", "label": "Integridad", "color": "#00E676"},
          {"id": "autenticidad", "label": "Autenticidad", "color": "#FF1744"}
        ],
        "xp_per_correct": 10
      }
    },
    {
      "screen_id": 9,
      "type": "story_slide",
      "title": "El Arte de la Firma Digital",
      "content": {
        "icon": "draw",
        "icon_color": "#FFC107",
        "headline": "C√≥mo Funciona la Firma",
        "body": "La firma digital usa criptograf√≠a asim√©trica para verificar origen e integridad.",
        "visual_element": {
          "type": "encryption_flow",
          "steps": [
            {"step": "1", "desc": "Hash del archivo"},
            {"step": "2", "desc": "Cifrar hash con clave privada"},
            {"step": "3", "desc": "Firma adjunta al archivo"},
            {"step": "4", "desc": "Receptor verifica con clave p√∫blica ‚Üí descifra hash ‚Üí compara"}
          ]
        }
      }
    },
    {
      "screen_id": 10,
      "type": "flip_card_full",
      "title": "Criptograf√≠a Sim√©trica",
      "content": {
        "card": {
          "front": {
            "icon": "lock",
            "term": "SIM√âTRICA",
            "subtitle": "Una clave para todo",
            "color": "#FF9800"
          },
          "back": {
            "definition": "Misma clave para cifrar y descifrar. R√°pida pero problema de distribuci√≥n de clave.",
            "algoritmos": ["AES-256-GCM (est√°ndar actual)", "ChaCha20", "3DES (obsoleto)"],
            "use_cases": "Cifrado de disco, TLS data, ransomware",
            "solarwinds": "SUNBURST usaba AES para cifrar C2 traffic. R√°pido y seguro... si la clave no est√° comprometida.",
            "color": "#F57C00"
          }
        }
      }
    },
    {
      "screen_id": 11,
      "type": "flip_card_full",
      "title": "Criptograf√≠a Asim√©trica",
      "content": {
        "card": {
          "front": {
            "icon": "key",
            "term": "ASIM√âTRICA",
            "subtitle": "Clave p√∫blica + privada",
            "color": "#9C27B0"
          },
          "back": {
            "definition": "Par de claves: P√∫blica (cifra) + Privada (descifra). Soluciona distribuci√≥n de clave.",
            "algoritmos": ["RSA-2048/4096", "ECC (Elliptic Curve)", "Ed25519"],
            "use_cases": "TLS handshake, firmas digitales, SSH, PGP",
            "solarwinds": "La clave privada de firma fue comprometida ‚Üí atacantes firmaban actualizaciones leg√≠timas.",
            "color": "#7B1FA2"
          }
        }
      }
    },
    {
      "screen_id": 12,
      "type": "flip_card_full",
      "title": "Hash: Integridad Pura",
      "content": {
        "card": {
          "front": {
            "icon": "fingerprint",
            "term": "HASH",
            "subtitle": "One-way function",
            "color": "#FF5722"
          },
          "back": {
            "definition": "Funci√≥n unidireccional que convierte cualquier entrada en valor fijo. Detecta alteraciones.",
            "algoritmos": ["SHA-256", "SHA-3", "BLAKE3"],
            "propiedades": ["Avalancha", "Pre-image resistance", "Collision resistance"],
            "solarwinds": "Hash del update leg√≠timo ‚â† hash del update malicioso. Pero nadie verific√≥.",
            "color": "#E64A19"
          }
        }
      }
    },
    {
      "screen_id": 13,
      "type": "swipe_cards",
      "title": "¬øCifrado o Hash?",
      "content": {
        "instruction": "Desliza para clasificar",
        "cards": [
          {"id": 1, "scenario": "Verificar integridad de archivo descargado", "correct_answer": "right", "labels": {"left": "Cifrado", "right": "Hash"}},
          {"id": 2, "scenario": "Proteger datos en reposo", "correct_answer": "left"},
          {"id": 3, "scenario": "Firmar actualizaci√≥n de software", "correct_answer": "left"},
          {"id": 4, "scenario": "Almacenar passwords de forma segura", "correct_answer": "right"}
        ],
        "xp_per_correct": 8
      }
    },
    {
      "screen_id": 14,
      "type": "story_slide",
      "title": "El Kill Switch de SolarWinds",
      "content": {
        "icon": "power_settings_new",
        "icon_color": "#4CAF50",
        "headline": "El Error que Salv√≥ al Mundo",
        "body": "SUNBURST ten√≠a un kill switch: si detectaba an√°lisis, se desactivaba. Pero el dominio estaba mal configurado.",
        "highlight_box": {
          "type": "success",
          "text": "Microsoft registr√≥ el dominio y activ√≥ el kill switch. Detuvo la propagaci√≥n... pero ya era tarde para 18K organizaciones."
        }
      }
    },
    {
      "screen_id": 15,
      "type": "timed_quiz",
      "title": "‚ö° Crypto Challenge",
      "content": {
        "timer_seconds": 20,
        "question": "¬øQu√© propiedad criptogr√°fica fall√≥ CR√çTICAMENTE en SolarWinds?",
        "options": [
          {"id": "a", "text": "Confidencialidad del tr√°fico C2", "is_correct": false},
          {"id": "b", "text": "Autenticidad del origen del update", "is_correct": true},
          {"id": "c", "text": "Integridad del payload cifrado", "is_correct": false}
        ],
        "explanation": "La clave privada de firma fue comprometida ‚Üí atacantes firmaban actualizaciones leg√≠timas ‚Üí bypass de autenticidad. El cifrado funcion√≥... pero el origen era falso.",
        "xp_reward": 20
      }
    },
    {
      "screen_id": 16,
      "type": "achievement_unlock",
      "title": "Logro Desbloqueado",
      "content": {
        "achievement": {
          "icon": "encrypted",
          "name": "Cryptographer Apprentice",
          "description": "Completaste tu primera lecci√≥n de criptograf√≠a",
          "rarity": "rare",
          "color": "#00E5FF"
        }
      }
    },
    {
      "screen_id": 17,
      "type": "lesson_complete",
      "title": "Lecci√≥n Completada",
      "content": {
        "xp_earned": 65,
        "key_takeaways": [
          "Criptograf√≠a = Confidencialidad + Integridad + Autenticidad",
          "Sim√©trica: r√°pida, problema de clave. Asim√©trica: lenta, distribuci√≥n f√°cil",
          "Hash: integridad, no reversible",
          "SolarWinds: clave privada comprometida = confianza rota",
          "Supply chain attacks bypassan todo si la firma es v√°lida"
        ],
        "next_lesson": {
          "id": "c3_l2",
          "title": "Modelos de Autorizaci√≥n",
          "preview": "Twitter Hack 2020: cuando 1,000 admins ten√≠an god-mode"
        }
      }
    }
  ]
}